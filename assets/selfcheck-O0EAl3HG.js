import{B as o,l as i,e as l,r as f,a as d}from"./index-Cq0Y26AD.js";const u={fullname:"fullName",Address:"address"},h={chargers:{bankcard:"bankCard"},drivers:{bankcard:"bankCard"},fines:{"shiftsOf Them":"shiftsOfThem"},deposit:{bankcard:"bankCard"}};function k(a,t){const e={};Object.keys(a).forEach(s=>{e[s]=(a[s]||"").trim()}),Object.entries(u).forEach(([s,r])=>{e[s]=e[r]});const c=h[t]||{};return Object.entries(c).forEach(([s,r])=>{e[s]=e[r]}),Object.keys(e).forEach(s=>{if(s.includes(" ")){const r=s.replace(/\s+/g,"");e[r]&&(e[s]=e[r])}}),e}async function m(){const a=[];for(const t of o){let e=!1,c=[],s=null;try{e=!!await i(t.id)}catch(r){s=String(r.message||r);const n=s.match(/Пробованные пути:\n([\s\S]*)/);c=n?n[1].split(`
`):[]}a.push({id:t.id,ok:e,hrefs:c,error:s})}return a}function p(){return(async()=>{const a=["act_chargers.docx","act_drivers.docx","act_fines.docx","act_deposit.docx"],t=[];for(const e of a){const c=d("resources/"+encodeURI(e));try{const s=await fetch(c,{cache:"no-store"});t.push({name:e,href:c,status:s.status,ok:s.ok})}catch(s){t.push({name:e,href:c,error:String(s)})}}return t})()}async function y(a){try{const{keys:t}=await l(a);return{ok:t.length>0,keys:t}}catch(t){return{ok:!1,error:t.message}}}function A(a,t){const e=k(a,t),s=["fullName","address","bankCard","bankcard","bankName"].filter(r=>r in e);return{ok:s.length>2,present:s,payload:e}}async function E(a,t){try{const e=await f(a,t);return{ok:e instanceof Blob&&e.size>0,size:e.size}}catch(e){return{ok:!1,error:e.message}}}export{p as checkAliasesExist,y as checkInspector,A as checkPayload,E as checkRender,m as checkTemplatesAccessible};
